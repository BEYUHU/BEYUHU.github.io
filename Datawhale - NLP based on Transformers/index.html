<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon/favicon.ico">
    <!--Description-->
    
        <meta name="description" content="BEIYUHU&#39;S STUDY ROOM">
    

    <!--Author-->
    
        <meta name="author" content="BEIYU HU">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Datawhale - NLP based on Transformers"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content=""/>

    <!--Page Cover-->
    
        <meta property="og:image" content=""/>
    

    <!-- Title -->
    
    <title>Datawhale - NLP based on Transformers - </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/sass/main.css">


    <!--[if lt IE 8]>
        
<script src="/js/ie/html5shiv.js"></script>

    <![endif]-->

    <!--[if lt IE 8]>
        
<link rel="stylesheet" href="/sass/ie8.css">

    <![endif]-->

    <!--[if lt IE 9]>
        
<link rel="stylesheet" href="/sass/ie9.css">

    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


<meta name="generator" content="Hexo 5.4.0"></head>

<body>

    <div id="wrapper">

        <!-- Menu -->
        <!-- Header -->
<header id="header">
    <div class="inner">

        <!-- Logo -->
        <a href="/" class="logo">
            <span class="symbol"><img src="/images/BEYUHU.png" alt="" /></span><span class="title"></span>
        </a>

        <!-- Nav -->
        <nav>
            <ul>
                <li><a href="#menu">M E N U</a></li>
            </ul>
        </nav>

    </div>
</header>

<!-- Menu -->
<nav id="menu">
    <h2>M E N U</h2>
    <ul>
        
            <li>
                <a href="/">H O M E</a>
            </li>
        
            <li>
                <a href="/archives">C O L L E C T I O N</a>
            </li>
        
            <li>
                <a href="/CV.pdf">C V</a>
            </li>
        
            <li>
                <a target="_blank" rel="noopener" href="https://linkedin.com/in/beiyuhu">L i n k e d I n</a>
            </li>
        
    </ul>
</nav>


        <div id="main">
            <div class="inner">

                <!-- Main Content -->
                

    <h1>Datawhale - NLP based on Transformers</h1>



<!-- Gallery -->


<!-- Content -->
<p><em>The notes are taken following <a target="_blank" rel="noopener" href="https://github.com/datawhalechina/">DATAWHALE-CHINA</a>‘s <a target="_blank" rel="noopener" href="https://datawhalechina.github.io/learn-nlp-with-transformers/">Natural Language Processing</a> with the main contents in Chinese. The table below shows the contents and the tasks embeded with hyperlinks could be directly jumped into by clicking.</em></p>
<p id="index"></p>

<table>
<thead>
<tr>
<th align="right">INDEX</th>
<th>CONTENT</th>
</tr>
</thead>
<tbody><tr>
<td align="right"><em>Preparation</em></td>
<td></td>
</tr>
<tr>
<td align="right"><a href="#task01">TASK01</a></td>
<td>1.1 NLP introduction<br>1.2 PyTorch and CUDA installation<br>1.3 Transformers and requirements installation</td>
</tr>
<tr>
<td align="right"><em>Theoretical knowledge</em></td>
<td></td>
</tr>
<tr>
<td align="right"><a href="#task02">TASK02</a></td>
<td>2.1 Attention<br>2.2 Transformers</td>
</tr>
<tr>
<td align="right"><a href="#task03">TASK03</a></td>
<td>3.1 BERT<br>3.2 GPT</td>
</tr>
<tr>
<td align="right"><em>BERT exercise</em></td>
<td></td>
</tr>
<tr>
<td align="right"><a href="#task04">TASK04</a></td>
<td>BERT model</td>
</tr>
<tr>
<td align="right"><a href="#task05">TASK05</a></td>
<td>BERT downstream tasks<br>5.1 Implementation<br>5.2 Training<br>5.3 Optimization</td>
</tr>
<tr>
<td align="right"><em>Transformers exersice</em></td>
<td></td>
</tr>
<tr>
<td align="right"><a href="#task06">TASK06</a></td>
<td>Text Classification<br>Hyperparameters Searching</td>
</tr>
<tr>
<td align="right"><a href="#task07">TASK07</a></td>
<td>Sequence Labeling</td>
</tr>
<tr>
<td align="right"><a href="#task08">TASK08</a></td>
<td>Extract Match QA</td>
</tr>
<tr>
<td align="right"><a href="#task09">TASK09</a></td>
<td>Machine Translation</td>
</tr>
</tbody></table>
<p id="task01"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 1 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK01.png" width="100%">

<p align="center"> </p>

<p><u><em>Preparation</em></u></p>
<h2 id="1-1-NLP-introduction"><a href="#1-1-NLP-introduction" class="headerlink" title="1.1 NLP introduction"></a>1.1 NLP introduction</h2><h2 id="1-2-PyTorch-and-CUDA-installation"><a href="#1-2-PyTorch-and-CUDA-installation" class="headerlink" title="1.2 PyTorch and CUDA installation"></a>1.2 PyTorch and CUDA installation</h2><p>此处安装未按教程中vscode方式，因为之前已有anaconda，所以本节示意基于anaconda的安装方式。随不同版本更新，若有疑虑请以<a target="_blank" rel="noopener" href="https://pytorch.org/get-started/locally/#with-cuda">Pytorch 官方链接</a>为准。本节以版本号<code>Stable(1.9.0)</code>, <code>Windows 10</code>, <code>CUDA 11.1</code> (local NVIDIA GPU based), <code>anaconda</code>等安装方式展开：</p>
<h3 id="STEP-1-CUDA-installation"><a href="#STEP-1-CUDA-installation" class="headerlink" title="STEP 1: CUDA installation"></a>STEP 1: CUDA installation</h3><p>在 <code>NVIDIA控制面板</code>左下角<code>系统信息</code>（或<code>帮助</code> - <code>系统信息</code>）中， 在tab<code>组件</code>下可查询<code>NVCUDA64.DLL</code>的产品名称： </p>
<p align="center"><img src="CUDA_version.png" width="80%"></p>

<p>此处显示11.4.xxx driver，会随着硬件更新而更新，看CUDA版本号因为这和之后pytorch安装有关。</p>
<p>然后就在<a target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-downloads">NVIDIA CUDA Toolkit 官网</a>下载CUDA即可，傻瓜式安装。(NOTE: 期间我试过莫名出现安装失败（最后一步），尝试关闭刚刚打开的NVIDIA控制面板后成功。关闭并重启后安装pytorch。)</p>
<p align="center"><img src="CUDA_installation.png" width="80%"></p>

<h3 id="STEP-2-PyTorch-installation"><a href="#STEP-2-PyTorch-installation" class="headerlink" title="STEP 2: PyTorch installation"></a>STEP 2: PyTorch installation</h3><p>创建虚拟环境：可以用anaconda prompt（或直接Anaconda Navigator的Environments中创建即可。）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create -n pytorch python=<span class="number">3.8</span></span><br><span class="line"><span class="comment"># pytorch 此处为虚拟环境名称</span></span><br><span class="line"><span class="comment"># python 版本按需</span></span><br></pre></td></tr></table></figure>


<p>接下来，激活pytorch虚拟环境：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda activate pytorch</span><br><span class="line"><span class="comment"># pytorch 此处为虚拟环境名称</span></span><br></pre></td></tr></table></figure>
<p>或直接在Environments打开以pytorch：</p>
<p align="center"><img src="navigator_pytorch.png" width="80%"></p>

<p>此时显示<code>(pytorch)</code>在路径之前即已进入这个虚拟环境中：</p>
<p align="center"><img src="navigator_pytorch_cmd.png" width="50%"></p>

<p>并以pip的方式安装pytorch：（以下代码请直接参考<a target="_blank" rel="noopener" href="https://pytorch.org/get-started/locally/#with-cuda">官网</a>）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install torch==<span class="number">1.9</span><span class="number">.0</span>+cu111 torchvision==<span class="number">0.10</span><span class="number">.0</span>+cu111 torchaudio===<span class="number">0.9</span><span class="number">.0</span> -f https://download.pytorch.org/whl/torch_stable.html</span><br></pre></td></tr></table></figure>

<p><em>NOTE：至于为什么不用conda的方式，尝试了几次后，conda安装pytorch是成功的，但是CUDA显示不可用。换成pip的方式就可以。而且耗时也不同，因为文件大概3G，下了大概半小时。</em></p>
<p>验证pytorch是否安装成功，检查其版本号：我的是1.9.0</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在同一个prompt内，先输入python，打开python</span></span><br><span class="line">(pytorch) C:\Users\user_name&gt;python</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> torch</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.__version__</span><br><span class="line">‘<span class="number">1.9</span><span class="number">.0</span>+cu111<span class="string">&#x27;</span></span><br><span class="line"><span class="string"># 其实这里也显示了CUDA的版本11.1</span></span><br></pre></td></tr></table></figure>
<p>单独验证CUDA是否可用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.cuda.is_available()</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>




<h2 id="1-3-Transformers-and-requirements-installation"><a href="#1-3-Transformers-and-requirements-installation" class="headerlink" title="1.3 Transformers and requirements installation"></a>1.3 Transformers and requirements installation</h2><p id="task02"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 2 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK02.png" width="100%">

<p align="center"> </p>

<p><u><em>Theoretical Knowledge 1</em></u></p>
<h2 id="2-1-Attention"><a href="#2-1-Attention" class="headerlink" title="2.1 Attention"></a>2.1 Attention</h2><h2 id="2-2-Transformers"><a href="#2-2-Transformers" class="headerlink" title="2.2 Transformers"></a>2.2 Transformers</h2><p id="task03"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 3 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK03.png" width="100%">

<p align="center"> </p>

<p><u><em>Theoretical Knowledge 2</em></u></p>
<h2 id="3-1-BERT"><a href="#3-1-BERT" class="headerlink" title="3.1 BERT"></a>3.1 BERT</h2><h2 id="3-2-GPT"><a href="#3-2-GPT" class="headerlink" title="3.2 GPT"></a>3.2 GPT</h2><p id="task04"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 4 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK04.png" width="100%">

<p align="center"> </p>

<p><u><em>BERT exercise 1</em></u></p>
<h2 id="BERT-model"><a href="#BERT-model" class="headerlink" title="BERT model"></a>BERT model</h2><p id="task05"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 5 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK05.png" width="100%">

<p align="center"> </p>

<p><u><em>BERT exercise 2</em></u>: <em>BERT DOWNSTREAM TASKS</em></p>
<h2 id="5-1-Implementation"><a href="#5-1-Implementation" class="headerlink" title="5.1 Implementation"></a>5.1 Implementation</h2><h2 id="5-2-Training"><a href="#5-2-Training" class="headerlink" title="5.2 Training"></a>5.2 Training</h2><h2 id="5-3-Optimization"><a href="#5-3-Optimization" class="headerlink" title="5.3 Optimization"></a>5.3 Optimization</h2><p id="task06"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 6 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK06.png" width="100%">

<p align="center"> </p>

<p><u><em>Transformers exercise 1</em></u></p>
<h2 id="Text-Classification"><a href="#Text-Classification" class="headerlink" title="Text Classification"></a>Text Classification</h2><h2 id="Hyperparameters-Searching"><a href="#Hyperparameters-Searching" class="headerlink" title="Hyperparameters Searching"></a>Hyperparameters Searching</h2><p id="task07"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 7 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK07.png" width="100%">

<p align="center"> </p>

<p><u><em>Transformers exercise 2</em></u></p>
<h2 id="Sequence-Labeling"><a href="#Sequence-Labeling" class="headerlink" title="Sequence Labeling"></a>Sequence Labeling</h2><p id="task08"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 8 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK08.png" width="100%">

<p align="center"> </p>

<p><u><em>Transformers exercise 3</em></u></p>
<h2 id="Extract-Match-QA"><a href="#Extract-Match-QA" class="headerlink" title="Extract Match QA"></a>Extract Match QA</h2><p id="task09"></p>
<p align="center"> - - - - - - - - - - - - - - - T A S K 0 9 - - - - - - - - - - - - - - -
<br><a href="#index">[ B A C K ]</a></p>

<img src="DATAWHALE-TASK09.png" width="100%">

<p align="center"> </p>

<p><u><em>Transformers exercise 4</em></u></p>
<h2 id="Machine-Translation"><a href="#Machine-Translation" class="headerlink" title="Machine Translation"></a>Machine Translation</h2>

<!-- Tags -->



<div class="tags">
    <a href="/tags/MachineLearning/" class="button small">MachineLearning</a> <a href="/tags/Datawhale/" class="button small">Datawhale</a> <a href="/tags/NLP/" class="button small">NLP</a>
</div>



<!-- Comments -->
<div>
    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



</div>



            </div>
        </div>

        <!-- Footer -->
<footer id="footer">
    <div class="inner">
        <section>
            <div>
                A little blog for note sharing, check the  <b><a href="/about" target="_self"> info</a></b> about everything! :)
            </div>
        </section>
        <section>
            
            </ul>
        </section>
        <ul class="copyright">
            <li>&copy; BH. All rights reserved</li>
        </ul>
    </div>
</footer>
    </div>

    <!-- After footer scripts -->
    
<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- skel -->

<script src="/js/skel.min.js"></script>


<!-- Custom Code -->

<script src="/js/util.js"></script>


<!--[if lte IE 8]>

<script src="/js/ie/respond.min.js"></script>

<![endif]-->

<!-- Custom Code -->

<script src="/js/main.js"></script>


<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'GUESTS';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>